<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Day 9 class</title>
  </head>
  <body>
    <script>
      //RETURNING A FUNCTION
      // Higher order function returning an other function
      const higherOrder = (n) => {
        const doSomething = (m) => {
          const doWhatEver = (t) => {
            return 2 * n + 3 * m + t;
          };
          return doWhatEver;
        };
        return doSomething;
      };
      console.log(higherOrder(2)(3)(10));

      //   const numbers = [1, 2, 3, 4, 5];
      //   const sumArray = (arr) => {
      //     let sum = 0;
      //     const callback = function (element) {
      //       sum += element;
      //     };
      //     arr.forEach(callback);
      //     return sum;
      //   };
      //   console.log(sumArray(numbers));

      const number = [1, 2, 3, 4, 5];

      const sumArray = (arr) => {
        let sum = 0;
        number.forEach((x) => {
          sum += x;
        });
        return sum;
      };
      console.log(sumArray(number));

      /*Setting Interval using a setInterval function
      In JavaScript, we use setInterval higher order function to do some activity continuously with in some interval of time. The setInterval global method take a callback function and a duration as a parameter. The duration is in milliseconds and the callback will be always called in that interval of time.

      // syntax
      function callback() {
        // code goes here
      }
      setInterval(callback, duration)

      */

      function sayHello() {
        console.log("Hello");
      }
      setInterval(sayHello, 3000); // it prints hello in every second, 1000ms is 1s

      /*Setting a time using a setTimeout
      In JavaScript, we use setTimeout higher order function to execute some action at some time in the future. The setTimeout global method take a callback function and a duration as a parameter. The duration is in
      milliseconds and the callback wait for that amount of time.

      // syntax
      function callback() {
        // code goes here
      }
      setTimeout(callback, duration) // duration in milliseconds

      */

      function sayHi() {
        console.log("HI..............");
      }
      setTimeout(sayHi, 5000); // it prints hello after it waits for 2 seconds.

      //forEach. accept a callback and call the function once per element in the array.It takes an element, index parameters and array itself.
      let sum = 0;
      const numbers = [1, 2, 3, 4, 5, 6];
      numbers.forEach((num) => {
        return (sum += num);
      });
      console.log(sum);

      const countries = ["Finland", "Denmark", "Sweden", "Norway", "Iceland"];
      countries.forEach((element, idx) =>
        console.log(idx, element.toUpperCase())
      );

      //MAP: iterate an array element and modify the array element  it takes a call back function with element, index, array parameter and return a new array
      /*Arrow function and explicit return
      const modifiedArray = arr.map((element,index) => element);
      */

      //Example
      const numbersSquare = numbers.map((num) => num * num);
      console.log(numbersSquare);
      const isEven = numbers.map((num) => {
        return num % 2 === 0; //this is a boolean which evaluate to either true or false.
      });
      console.log(isEven);

      //FILTER: filter out items which pass certian conditions implemented by the provided function

      //Filter countries containing land
      const countriesContainingLand = countries.filter((country) =>
        country.includes("land")
      );
      console.log(countriesContainingLand);

      const scores = [
        { name: "Asabeneh", score: 95 },
        { name: "Lidiya", score: 98 },
        { name: "Mathias", score: 80 },
        { name: "Elias", score: 50 },
        { name: "Martha", score: 85 },
        { name: "John", score: 100 },
      ];

      const scoresGreaterEighty = scores.filter((f) => f.score > 80);
      console.log(scoresGreaterEighty);

      /*REDUCE
      reduce: Reduce takes a callback function. The call back function takes accumulator, current, and optional initial value as a parameter and returns a single value. It is a good practice to define an initial value for the accumulator value. If we do not specify this parameter, by default accumulator will get array first value. If our array is an empty array, then Javascript will throw an error.
      */

      // const summ = number.reduce((total, currval) => total + currval);
      // console.log(summ);

      const addition = numbers.reduce((total, currVal) => {
        return total + currVal;
      });
      console.log(addition);

      const score = scores.find((n) => n.score > 80);
      console.log(score);
      //Every: test whether all the element in the array pass the provided function in the text.
      const names = ["Asabeneh", "Mathias", "Elias", "Brook"];
      const areAllStr = names.every((name) => typeof name === "string"); // Are all strings?

      console.log(areAllStr);

      const isInteger = numbers.every((n) => typeof n === "number");
      console.log(isInteger);

      const ages = [24, 22, 25, 32, 35, 18];
      const age = ages.find((age) => age < 20);

      console.log(age);

      const namess = ["Asabeneh", "Mathias", "Elias", "Brook"];
      const result = namess.find((name) => name.length > 7);
      console.log(result);

      //findIndex; return the position of the first index which satisfies the condition
      const resultName = namess.findIndex((name) => name.length > 7);
      console.log(resultName);

      //SOME: check if any of the element are similar in one aspect i.e if any of the element pass the test function.
      const nameT = namess.some((n) => n.includes("t")); //used to check if any of the name include t
      console.log(nameT);

      //SORT: when sorting, is good to copy first, because sort changes the array
      const prices = [12, 200, 35.5, 90, 9000, 12000, 30000];
      const ascSort = prices.slice().sort((a, b) => a - b); //ascending sorting
      console.log(ascSort);
      const desSort = prices.slice().sort((a, b) => b - a); //descending sorting
      console.log(desSort);

      /*Sorting Object Arrays
Whenever we sort objects in an array, we use the object key to compare. Let us see the example below.*/
      const users = [
        { name: "Asabeneh", age: 150 },
        { name: "Brook", age: 50 },
        { name: "Eyob", age: 100 },
        { name: "Elias", age: 22 },
      ];

      const snr = users.slice().sort((a, b) => a.age - b.age);
      console.log(snr);
    </script>
  </body>
</html>
